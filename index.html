<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />


	<script type="module" crossorigin src="vite-preact-dp/dist/assets/index.043be2e4.js"></script>

	<script type="module">
		const oteContainer = document.getElementById("datePicker");
		const buttonChangeFormat = document.getElementById("btnDateFormat");
		const buttonSwitchHours = document.getElementById("btnHoursFormat");
		const selectTz = document.getElementById("switch-tz");


		const defaultFormat = "MMMM d, yyyy,";
		const apiFormat = "yyyy-MM-dd'T'HH:mm:ss";

		const picker = new DatePicker({
			oteContainer,
			defaultDateTime: "2022-05-16T17:03:05",
			hoursFormat: 0,
			dateFormat: defaultFormat,
			minutesIntervals: 15,
			dataDtSaveTimezone: "Etc/GMT",
			dataDtTimezone: "America/Los_Angeles",
			"data-dt-24h": 0,
			"data-dt-timezone": "America/Los_Angeles",
			"data-dt-saveTimezone": "Etc/GMT+5",
		});

		selectTz.value = "user";
		selectTz.addEventListener("change", (e) => {
			switch (e.target.value) {
				case "user":
					picker.format = defaultFormat;
					picker.date = picker.dateWithClientTimeZoneOffset;
					return;
				case "server":
					picker.format = apiFormat;
					picker.date = picker.dateWithServerTimeZoneOffset;
					return;
			}
		});

		buttonChangeFormat.addEventListener("click", () => picker.format = picker._dateFormat == defaultFormat ? apiFormat : defaultFormat);
		buttonSwitchHours.addEventListener("click", () => picker.hours = picker.hours ? false : "24h");

	</script>

	<link rel="stylesheet" href="vite-preact-dp/dist/assets/index.5a3274e2.css" />
</head>

<body>
	<h3> DateTimePicker </h3>
	<div id="datePicker"></div>
	<br>
	<button id="btnDateFormat">Swap date format</button>
	<button id="btnHoursFormat">Toggle hours formating 12/24</button>

	<select id="switch-tz">
		<option value="server">server tz</option>
		<option value="user">user tz</option>
	</select>
</body>

</html>